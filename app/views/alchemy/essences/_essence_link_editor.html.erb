<%= content_tag :div,
  id: essence_link_editor.dom_id,
  class: essence_link_editor.css_classes,
  data: essence_link_editor.data_attributes do %>
  <%= content_label(essence_link_editor) %>
  <%= text_field_tag '', essence_link_editor.ingredient,
    class: "thin_border text_with_icon disabled",
    name: nil,
    id: nil,
    disabled: true
  %>
  <%= hidden_field_tag essence_link_editor.form_field_name(:link),
    essence_link_editor.essence.link,
    "data-link-value": true %>
  <%= hidden_field_tag essence_link_editor.form_field_name(:link_title),
    essence_link_editor.essence.link_title,
    "data-link-title": true %>
  <%= hidden_field_tag essence_link_editor.form_field_name(:link_class_name),
    essence_link_editor.essence.link_class_name,
    "data-link-class": true %>
  <%= hidden_field_tag essence_link_editor.form_field_name(:link_target),
    essence_link_editor.essence.link_target,
    "data-link-target": true %>
  <%= render 'alchemy/essences/shared/linkable_essence_tools', content: essence_link_editor.content %>
<% end %>
<script type="text/javascript" charset="utf-8">
  $('#<%= essence_link_editor.form_field_id(:link) %>').on('change', function() {
    $('#<%= essence_link_editor.dom_id %> input.text_with_icon').val($(this).val());
  });
</script>
