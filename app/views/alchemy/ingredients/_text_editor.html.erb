<%= content_tag :div,
  class: [
    text_editor.css_classes,
    text_editor.settings[:display_inline] ? "display_inline" : ""
  ], data: text_editor.data_attributes do %>
  <%= element_form.fields_for(:ingredients, text_editor.ingredient) do |f| %>
    <%= ingredient_label(text_editor) %>
    <%= f.text_field :value,
      class: text_editor.settings[:linkable] ? "text_with_icon" : "",
      type: text_editor.settings[:input_type] || "text" %>
    <% if text_editor.settings[:linkable] %>
      <%= f.hidden_field :link %>
      <%= f.hidden_field :link_title %>
      <%= f.hidden_field :link_class_name %>
      <%= f.hidden_field :link_target %>
      <%= render "alchemy/ingredients/shared/link_tools", ingredient_editor: text_editor %>
    <% end %>
  <% end %>
<% end %>
