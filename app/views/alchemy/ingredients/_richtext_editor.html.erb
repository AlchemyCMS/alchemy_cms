<%= content_tag :div,
  class: richtext_editor.css_classes,
  data: richtext_editor.data_attributes do %>
  <%- richtext_dom_id = "tinymce_#{richtext_editor.id}" %>
  <%= element_form.fields_for(:ingredients, richtext_editor.ingredient) do |f| %>
    <%= ingredient_label(richtext_editor, :value, for: richtext_dom_id) %>

    <% if richtext_editor.has_custom_tinymce_config? %>
      <alchemy-tinymce
        <% richtext_editor.custom_tinymce_config.each do |k, v| %>
        <%= k %>="<%= v.to_json %>"
        <% end %>
      >
        <%= f.text_area :value, id: richtext_dom_id %>
      </alchemy-tinymce>
    <% else %>
      <alchemy-tinymce>
        <%= f.text_area :value, id: richtext_dom_id %>
      </alchemy-tinymce>
    <%  end %>
  <% end %>
<% end %>
